---
/**
 * ExperienceSection - How a SAUWA session works
 * - 3 steps visual layout
 * - Sauna → Cold bath → Recovery
 * - Multilingual support
 */

export interface Props {
  locale?: 'es' | 'ca' | 'en' | 'fr';
  class?: string;
}

const { locale = 'es', class: className = '' } = Astro.props;

// Experience content by language (from Contenido landing.txt)
const experienceContent = {
  es: {
    title: '¿Cómo es una sesión en SAUWA?',
    subtitle: 'Recupera, despeja la mente y conecta con la naturaleza en una experiencia premium guiada.',
    steps: [
      {
        number: '01',
        title: 'Sauna de leña',
        description: 'Calor intenso y vapor natural en nuestra sauna finlandesa auténtica.',
      },
      {
        number: '02',
        title: 'Inmersión en agua fría',
        description: 'Contraste térmico con baños de agua fría en plena naturaleza.',
      },
      {
        number: '03',
        title: 'Recuperación y conexión',
        description: 'Descanso profundo y conexión con uno/a mismo/a.',
      },
    ],
  },
  ca: {
    title: 'Com és una sessió a SAUWA?',
    subtitle: 'Recupera, aclareix la ment i connecta amb la natura en una experiència premium guiada.',
    steps: [
      {
        number: '01',
        title: 'Sauna de llenya',
        description: 'Calor intensa i vapor natural a la nostra sauna finlandesa autèntica.',
      },
      {
        number: '02',
        title: 'Immersió en aigua freda',
        description: 'Contrast tèrmic amb banys d\'aigua freda en plena natura.',
      },
      {
        number: '03',
        title: 'Recuperació i connexió',
        description: 'Descans profund i connexió amb un/a mateix/a.',
      },
    ],
  },
  en: {
    title: 'What is a SAUWA session like?',
    subtitle: 'Recover, clear your mind and connect with nature in a guided premium experience.',
    steps: [
      {
        number: '01',
        title: 'Wood-fired sauna',
        description: 'Intense heat and natural steam in our authentic Finnish sauna.',
      },
      {
        number: '02',
        title: 'Cold water immersion',
        description: 'Thermal contrast with cold water baths in the heart of nature.',
      },
      {
        number: '03',
        title: 'Recovery and connection',
        description: 'Deep rest and connection with yourself.',
      },
    ],
  },
  fr: {
    title: 'Comment se déroule une séance chez SAUWA?',
    subtitle: 'Récupérez, clarifiez votre esprit et connectez-vous avec la nature dans une expérience premium guidée.',
    steps: [
      {
        number: '01',
        title: 'Sauna au bois',
        description: 'Chaleur intense et vapeur naturelle dans notre sauna finlandais authentique.',
      },
      {
        number: '02',
        title: 'Immersion en eau froide',
        description: 'Contraste thermique avec bains d\'eau froide en pleine nature.',
      },
      {
        number: '03',
        title: 'Récupération et connexion',
        description: 'Repos profond et connexion avec soi-même.',
      },
    ],
  },
};

const content = experienceContent[locale];
---

<section class={`experience-section ${className}`} id="experiencia">
  <div class="container mx-auto px-4 md:px-6 lg:px-8 py-16 md:py-24">
    <!-- Section Header -->
    <div class="section-header">
      <h2 class="section-title">
        {content.title}
      </h2>
      <p class="section-subtitle">
        {content.subtitle}
      </p>
    </div>

    <!-- Steps -->
    <div class="steps-container">
      {content.steps.map((step, index) => (
        <div class="step-card" data-step={index + 1}>
          <div class="step-number">
            {step.number}
          </div>
          <h3 class="step-title">
            {step.title}
          </h3>
          <p class="step-description">
            {step.description}
          </p>
          {index < content.steps.length - 1 && (
            <div class="step-arrow" aria-hidden="true">
              <svg width="40" height="20" viewBox="0 0 40 20" fill="none">
                <path d="M0 10h38m0 0l-8-8m8 8l-8 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          )}
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .experience-section {
    background: linear-gradient(135deg, #406E51 0%, #2d5038 100%);
    color: white;
  }

  .section-header {
    text-align: center;
    max-width: 800px;
    margin: 0 auto 4rem;
  }

  .section-title {
    font-family: var(--font-helvetica, 'Inter', 'Helvetica Neue', sans-serif);
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    font-weight: 200;
    letter-spacing: 0.01em;
    line-height: 1.3;
    margin: 0 0 1rem;
  }

  .section-subtitle {
    font-family: var(--font-avenir, 'Nunito Sans', sans-serif);
    font-size: clamp(1rem, 2vw, 1.25rem);
    font-weight: 300;
    line-height: 1.6;
    opacity: 0.9;
    margin: 0;
  }

  .steps-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
  }

  .step-card {
    position: relative;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 16px;
    padding: 2.5rem 2rem;
    text-align: center;
    transition: all 0.3s ease;
  }

  .step-card:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-4px);
  }

  .step-number {
    font-family: var(--font-helvetica, 'Inter', sans-serif);
    font-size: 3rem;
    font-weight: 100;
    color: #DB4529; /* sauwa-orange */
    margin: 0 0 1rem;
    line-height: 1;
  }

  .step-title {
    font-family: var(--font-avenir, 'Nunito Sans', sans-serif);
    font-size: clamp(1.25rem, 2.5vw, 1.5rem);
    font-weight: 400;
    letter-spacing: 0.01em;
    margin: 0 0 1rem;
  }

  .step-description {
    font-family: var(--font-avenir, 'Nunito Sans', sans-serif);
    font-size: clamp(0.95rem, 1.5vw, 1.125rem);
    font-weight: 300;
    line-height: 1.6;
    opacity: 0.9;
    margin: 0;
  }

  .step-arrow {
    display: none; /* Hidden on mobile, shown on desktop */
    position: absolute;
    top: 50%;
    right: -2.5rem;
    transform: translateY(-50%);
    color: rgba(255, 255, 255, 0.4);
  }

  /* Desktop layout with arrows */
  @media (min-width: 768px) {
    .steps-container {
      grid-template-columns: repeat(3, 1fr);
      gap: 3rem;
    }

    .step-arrow {
      display: block;
    }

    .step-card:last-child .step-arrow {
      display: none;
    }
  }

  /* Tablet layout */
  @media (min-width: 640px) and (max-width: 767px) {
    .steps-container {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    .step-card {
      transition: none;
    }

    .step-card:hover {
      transform: none;
    }
  }
</style>
