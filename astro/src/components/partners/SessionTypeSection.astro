---
/**
 * WDA-998: Session Type Section Component
 * Groups sessions by type with localized titles and subtitles
 */
import type { SessionData, SessionType } from '../../lib/sessions-queries';
import { getSectionContent, type Locale } from '../../lib/i18n/sessionTypes';
import SessionCard from './SessionCard.astro';

interface Props {
  type: SessionType;
  sessions: SessionData[];
  locale: Locale;
  partnerSlug: string;
}

const { type, sessions, locale, partnerSlug } = Astro.props;

// Skip rendering if no sessions
if (sessions.length === 0) {
  return null;
}

const sectionContent = getSectionContent(locale, type);
---

<section class={`session-type-section session-type-section--${type}`}>
  <header class="session-type-section__header">
    <p class="section-label section-label--primary">{sectionContent.title}</p>
    <h3 class="section-title">{sectionContent.subtitle}</h3>
  </header>

  <div class="session-type-section__grid">
    {sessions.map((session) => (
      <SessionCard
        session={session}
        type={type}
        locale={locale}
        partnerSlug={partnerSlug}
      />
    ))}
  </div>
</section>

<style>
  .session-type-section {
    margin-bottom: 3rem;
  }

  .session-type-section:last-child {
    margin-bottom: 0;
  }

  .session-type-section__header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .session-type-section__grid {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center;
  }

  .session-type-section__grid > :global(article) {
    flex: 0 1 280px;
    max-width: 350px;
  }
</style>
