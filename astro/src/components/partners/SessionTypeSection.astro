---
/**
 * WDA-998: Session Type Section Component
 * Groups sessions by type with localized titles and subtitles
 */
import type { SessionData, SessionType } from '../../lib/sessions-queries';
import { getSectionContent, type Locale } from '../../lib/i18n/sessionTypes';
import SessionCard from './SessionCard.astro';

interface Props {
  type: SessionType;
  sessions: SessionData[];
  locale: Locale;
  partnerSlug: string;
}

const { type, sessions, locale, partnerSlug } = Astro.props;

// Skip rendering if no sessions
if (sessions.length === 0) {
  return null;
}

const sectionContent = getSectionContent(locale, type);
---

<section class={`session-type-section session-type-section--${type}`}>
  <header class="session-type-section__header">
    <p class="section-label section-label--primary">{sectionContent.title}</p>
    <h3 class="section-title">{sectionContent.subtitle}</h3>
  </header>

  <div class="session-type-section__grid">
    {sessions.map((session) => (
      <SessionCard
        session={session}
        type={type}
        locale={locale}
        partnerSlug={partnerSlug}
      />
    ))}
  </div>
</section>

<style>
  .session-type-section {
    margin-bottom: 3rem;
  }

  .session-type-section:last-child {
    margin-bottom: 0;
  }

  .session-type-section__header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .session-type-section__grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
  }

  /* Responsive */
  @media (max-width: 767px) {
    .session-type-section__grid {
      grid-template-columns: 1fr;
    }
  }

  @media (min-width: 768px) and (max-width: 1023px) {
    .session-type-section__grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>
